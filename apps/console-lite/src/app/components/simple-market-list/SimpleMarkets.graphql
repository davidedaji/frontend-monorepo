fragment SimpleMarketDataFields on ObservableMarketData {
  marketId
  marketState
}

query SimpleMarkets($CandleSince: String!) {
  markets {
    id
    state
    tradableInstrument {
      instrument {
        name
        code
        metadata {
          tags
        }
        product {
          __typename
          ... on Future {
            quoteName
            settlementAsset {
              symbol
            }
          }
        }
      }
    }
    candles(interval: INTERVAL_I1H, since: $CandleSince) {
      open
      close
    }
  }
}

subscription SimpleMarketDataSub($marketIds: [ID!]!) {
  marketsData(marketIds: $marketIds) {
    ...SimpleMarketDataFields
  }
}
