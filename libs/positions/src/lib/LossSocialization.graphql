query LossSocialization(
  $partyId: ID!
  $marketId: ID!
  $pagination: Pagination
) {
  ledgerEntries(
    filter: {
      FromAccountFilter: {
        partyIds: [$partyId]
        marketIds: [$marketId]
        accountTypes: [ACCOUNT_TYPE_MARGIN, ACCOUNT_TYPE_GENERAL]
      }
      ToAccountFilter: {
        partyIds: [$partyId]
        marketIds: [$marketId]
        accountTypes: [ACCOUNT_TYPE_MARGIN, ACCOUNT_TYPE_GENERAL]
      }
      # TODO: Re add this if filter gets fixed
      # TransferTypes: [
      #  TRANSFER_TYPE_MARGIN_LOW,
      #  TRANSFER_TYPE_MARGIN_HIGH,
      #  ...
      # ]
    }
    pagination: $pagination
  ) {
    edges {
      node {
        vegaTime
        quantity
        transferType
        toAccountType
        toAccountMarketId
        toAccountPartyId
        toAccountBalance
        fromAccountType
        fromAccountMarketId
        fromAccountPartyId
        fromAccountBalance
      }
      cursor
    }
  }
}
