fragment AccountFields on AccountUpdate {
  type
  balance
  assetId
  marketId
}

query Accounts($partyId: ID!) {
  party(id: $partyId) {
    id
    accounts {
      type
      balance
      market {
        id
        tradableInstrument {
          instrument {
            name
          }
        }
      }
      asset {
        id
        symbol
        decimals
      }
    }
  }
}

subscription AccountEvents($partyId: ID!) {
  accounts(partyId: $partyId) {
    ...AccountFields
    marketId
    assetId
  }
}
